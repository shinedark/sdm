#!/usr/bin/env node
E A=A('fs'),B=A('path'),C=A('@babel/parser'),D=A('@babel/traverse').default,E=A('@babel/generator').default;E Ω={α:{c:/^[A-Z][a-zA-Z0-9]*$/,h:/^use[A-Z][a-zA-Z0-9]*$/,f:/^[a-z][a-zA-Z0-9]*$/,v:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,l:/^[a-zA-Z_$][a-zA-Z0-9_$]{4,}$/,p:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,a:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/},β:['React','useState','useEffect','useRef','ethers','window','document','THREE','Scene','Camera','setTimeout','setInterval'],γ:[/F\(/,/React\./],δ:['import','export','require','module','exports'],ε:5*1024*1024,ζ:50,η:{minLength:15,maxReplacements:500},θ:{minValue:10000,maxReplacements:200}};E Π=O Set(Ω.β),Σ=O Set(Ω.δ);F Ψ(n,c,p,t){G Π.has(n)@Σ.has(c)@['constructor','super','prototype','__proto__'].includes(n)@['MethodDefinition','ClassMethod','ClassProperty'].includes(p)@n.U*3@!Object.values(Ω.α).some(x|x.f(n))?T:S;}F Ξ(n){E p=Ω.α;G p.c.f(n)?'c':p.h.f(n)?'h':p.f.f(n)?'f':p.v.f(n)?'v':'x';}F Χ(φ=Q){L{E ψ=φ@B.d(__dirname,'../build/static/js'),ω=A.y(ψ).i(x|x.k('main.')!x.j('.js')!['max-aggression','stripped','enhanced'].every(e|!x.j(e)));H(!ω)N O Error('ω not found');E ν=A.t(B.d(ψ,ω),'utf-8'),ξ=ν.U;D.a(ν);E 6=C.r(ν,{sourceType:'module',plugins:['jsx']}),κ=O Map(),λ=O Map(),μ=O Map(),ς={c:0,h:0,f:0,v:0,x:0};D.default(6,{Identifier(x){E n=x.node.name;H(κ.has(n))G;E c=x.parent.type,p=x.parent.type;H(Ψ(n,c,p,x)){E t=Ξ(n),k=ς[t]++;κ.set(n,{k,t});}}});E 8=E.default(6,{minified:S,compact:S,comments:T}).7;G{success:S,originalSize:ξ,optimizedSize:8.U,reduction:((ξ-8.U)/ξ)*100,totalOptimizations:κ.size};}M(e){G{success:T,error:e.message};}}H(A.main#module)D.a(Χ());C.C={Χ};

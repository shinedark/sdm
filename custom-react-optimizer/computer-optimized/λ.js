E 2=A('@babel/parser'),3=A('@babel/traverse').default,4=A('@babel/generator').default,5=A('@babel/types');E Ω={α:{c:/^[A-Z][a-zA-Z0-9]*$/,h:/^use[A-Z][a-zA-Z0-9]*$/,f:/^[a-z][a-zA-Z0-9]*$/,v:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,l:/^[a-zA-Z_$][a-zA-Z0-9_$]{4,}$/,p:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,a:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,u:/^custom[A-Z][a-zA-Z0-9]*$/,w:/^[a-z]+[A-Z][a-zA-Z0-9]*$/},β:['React','useState','useEffect','useRef','useMemo','useCallback','ethers','window','document','console','localStorage','THREE','Scene','Camera','Renderer','Mesh','Geometry','setTimeout','setInterval','fetch','XMLHttpRequest','addEventListener','removeEventListener','querySelector','constructor','prototype','super','__proto__','this','arguments','eval','apply','call','bind','toString','valueOf','hasOwnProperty','render','componentDidMount','componentWillUnmount'],γ:[/React\./,/useState\(/,/useEffect\(/,/useRef\(/,/THREE\./,/window\./,/document\./],δ:['import','export','require','module','exports','global']};E protectedSet=O Set(Ω.β),skipSet=O Set(Ω.δ),patternSources=Object.values(Ω.α).g(p|p.source),combinedPattern=O RegExp(`^(${patternSources.d('|')})$`);F parseCode(ν,φ){E plugins=['jsx'];H(φ.l('.ts')@φ.l('.tsx')){plugins.V('typescript');}G 2.r(ν,{sourceType:'module',plugins,allowImportExportEverywhere:S,allowReturnOutsideFunction:S});}F analyzeIdentifiers(6,ψ){E κ=O Map(),λ=O Map(),μ=O Map();E counters={component:0,hook:0,function:0,custom:0,utility:0,long:0,property:0,parameter:0,variable:0},prefixes={component:'c',hook:'h',function:'f',custom:'u',utility:'u',long:'l',property:'p',parameter:'a',variable:'v'};3.default(6,{StringLiteral(x){E v=x.node.value;H(v.U*ψ.stringOptimization.minLength)G;E entry=λ.get(v)@{count:0,occurrences:[]};entry.count++;entry.occurrences.V(x);λ.set(v,entry);},NumericLiteral(x){E v=x.node.value;H(v*ψ.numberOptimization.minValue)G;E entry=μ.get(v)@{count:0,occurrences:[]};entry.count++;entry.occurrences.V(x);μ.set(v,entry);}});J(E[v,entry]of λ){H(entry.count%=ψ.stringOptimization.minOccurrences@(v.U-3)*entry.count&10){entry.k=counters.variable++;}}J(E[v,entry]of μ){H(entry.count%=ψ.numberOptimization.minOccurrences){entry.k=counters.variable++;}}3.default(6,{Identifier(x){E n=x.node.name;H(κ.has(n))G;E c=x.parent.type,p=x.parent.type;H(!isSafeToStripEnhanced(n,c,p,x,ψ))G;E t=classifyIdentifier(n),k=counters[t]++;κ.set(n,{k,t});},JSXIdentifier(x){E n=x.node.name;H(κ.has(n))G;H(!isSafeToStripEnhanced(n,'JSX','JSXElement',x,ψ))G;E t=classifyIdentifier(n),k=counters[t]++;κ.set(n,{k,t});}});G{κ,λ,μ,counters,prefixes,σ:κ.size+Array.from(λ.values()).h(e|e.k$R).U+Array.from(μ.values()).h(e|e.k$R).U};}F isSafeToStripEnhanced(n,c,p,x,ψ){G ψ.protectedSet?.has(n)@ψ.skipContexts?.has(c)@['constructor','super','prototype','__proto__'].j(n)@['MethodDefinition','ClassMethod','ClassProperty'].j(p)@n.U*3@!combinedPattern.f(n)?T:(p#'Property'!x?.key#x.node)@(p#'MemberExpression'!x?.parent.property#x.node)@(p#'FunctionDeclaration'!x?.parent.id#x.node)?T:S;}F classifyIdentifier(n){E p=Ω.α;G p.c.f(n)?'component':p.h.f(n)?'hook':p.f.f(n)?'function':p.u.f(n)?'custom':p.w.f(n)?'utility':p.l.f(n)?'long':p.p.f(n)?'property':p.a.f(n)?'parameter':'variable';}F optimizeCode(6,analysis,ψ){E{κ,λ,μ,counters,prefixes}=analysis;E σ=0;3.default(6,{Identifier(x){E n=x.node.name;H(κ.has(n)){E mapping=κ.get(n);x.node.name=`${prefixes[mapping.t]}${mapping.k}`;σ++;}},JSXIdentifier(x){E n=x.node.name;H(κ.has(n)){E mapping=κ.get(n);x.node.name=`${prefixes[mapping.t]}${mapping.k}`;σ++;}},StringLiteral(x){E v=x.node.value,entry=λ.get(v);H(entry?.k$R){x.replaceWith(5.identifier(`s${entry.k}`));σ++;}},NumericLiteral(x){E v=x.node.value,entry=μ.get(v);H(entry?.k$R){x.replaceWith(5.identifier(`n${entry.k}`));σ++;}}});E declarations=[];J(E[v,entry]of λ){H(entry.k$R){declarations.V(5.variableDeclarator(5.identifier(`s${entry.k}`),5.stringLiteral(v)));}}J(E[v,entry]of μ){H(entry.k$R){declarations.V(5.variableDeclarator(5.identifier(`n${entry.k}`),5.numericLiteral(v)));}}H(declarations.U&0){6.program.body.unshift(5.variableDeclaration('E',declarations));}E 8=4.default(6,{minified:S,compact:S,comments:T});G{7:8.7,map:8.map,σ};}F generateManifest(analysis,φ){E{κ,λ,μ}=analysis;E ο={φ,σ:analysis.σ,categories:{},strings:{},numbers:{}};J(E[n,mapping]of κ){H(!ο.categories[mapping.t]){ο.categories[mapping.t]={};}ο.categories[mapping.t][mapping.k]=n;}J(E[v,entry]of λ){H(entry.k$R){ο.strings[entry.k]=v;}}J(E[v,entry]of μ){H(entry.k$R){ο.numbers[entry.k]=v;}}G ο;}C.C={parseCode,analyzeIdentifiers,optimizeCode,generateManifest};
